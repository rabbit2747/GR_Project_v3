# GR Atom: SAML Protocol
# Version: 1.0
# Created: 2025-01-29

identity:
  id: "TECH-PROTO-SAML-001"
  name: "SAML (Security Assertion Markup Language)"
  normalization:
    normalized_name: "saml security assertion markup language sso federation"
    normalization_version: "1.0"
  aliases:
    - "SAML"
    - "SAML 2.0"
    - "보안 어설션 마크업"

classification:
  domain: security
  type: concept
  is_infrastructure: false
  abstraction_level: 3
  gr_coordinates:
    layer: "L7"
    zone: "Z2"
    atom_tags: ["AUTHN", "IAM", "NETWORK"]

definition:
  what: |
    SAML은 인증 및 권한 부여 데이터를 교환하기 위한 XML 기반
    개방형 표준으로, 엔터프라이즈 SSO에 널리 사용된다.
  why: |
    엔터프라이즈 환경의 연합 인증 표준이다.
    도메인 간 SSO를 안전하게 구현할 수 있다.
  how: |
    1. 사용자가 SP에 접근
    2. SP가 IdP로 인증 요청
    3. IdP가 사용자 인증
    4. SAML Assertion을 SP에 전달

relations:
  structural:
    is_a:
      - "TECH-CONCEPT-AUTH-001"

properties:
  technical:
    version: "2.0"
    components:
      - name: "Identity Provider (IdP)"
        role: "사용자 인증 수행"
      - name: "Service Provider (SP)"
        role: "서비스 제공, 인증 위임"
      - name: "SAML Assertion"
        role: "인증/권한 정보 포함 XML"
    assertion_types:
      - name: "Authentication"
        purpose: "사용자가 언제, 어떻게 인증되었는지"
      - name: "Attribute"
        purpose: "사용자 속성 (이름, 역할 등)"
      - name: "Authorization Decision"
        purpose: "리소스 접근 권한"
    flows:
      - name: "SP-Initiated"
        description: "SP에서 시작하는 일반적 흐름"
        steps:
          - "1. SP → AuthnRequest"
          - "2. IdP 인증"
          - "3. IdP → Response (Assertion)"
          - "4. SP 검증 및 접근 허용"
      - name: "IdP-Initiated"
        description: "IdP 포털에서 시작"
    security_considerations:
      - "XML 서명 검증"
      - "Assertion 암호화"
      - "InResponseTo 검증"
      - "유효 기간 확인"
      - "Audience Restriction"
    vulnerabilities:
      - "XML Signature Wrapping"
      - "Assertion 재사용"
      - "XXE 공격"
      - "Response 위조"

metadata:
  trust:
    source: official
    references:
      - "OASIS SAML 2.0"
      - "SAML Technical Overview"
    confidence: 1.0
    verified:
      status: verified
      date: 2025-01-29
      by: "GR System"
  temporal:
    created: 2025-01-29
    modified: 2025-01-29
    revision: 1
  security:
    sensitivity: public
  ai:
    embedding_text: |
      SAML은 엔터프라이즈 SSO를 위한 XML 기반 프로토콜이다. IdP-SP 구조로
      연합 인증을 제공하며 XML 서명 검증이 핵심 보안 요소다.
    search_keywords:
      - "SAML"
      - "SSO"
      - "연합 인증"
      - "IdP"
    related_queries:
      - "SAML 구현"
      - "엔터프라이즈 SSO"
      - "SAML vs OIDC"
