# GR Atom: Windows Credential Guard
# Version: 1.0
# Created: 2025-01-29

identity:
  id: "DEF-WIN-CREDENTIAL-GUARD-001"
  name: "Windows Credential Guard"
  normalization:
    normalized_name: "windows credential guard vbs lsass protection"
    normalization_version: "1.0"
  aliases:
    - "Credential Guard"
    - "자격 증명 보호"
    - "VBS 기반 보안"

classification:
  domain: security
  type: defense
  abstraction_level: 2
  gr_coordinates:
    layer: "L5"
    zone: "Zone3"
    tags: ["DEF", "WIN", "CREDENTIAL"]

definition:
  what: |
    가상화 기반 보안(VBS)을 사용하여 NTLM 해시, Kerberos 티켓 등
    자격 증명을 격리된 환경에서 보호하는 Windows 기능이다.
  why: |
    자격 증명 도용 공격을 방지한다.
    Pass-the-Hash, Pass-the-Ticket을 완화한다.
  how: |
    1. 하드웨어 요구사항 확인
    2. VBS 활성화
    3. Credential Guard 활성화
    4. 격리된 LSA 프로세스 사용

relations:
  structural:
    is_a:
      - "TECH-CONCEPT-DEFENSE-001"
    related_to:
      - "ATK-WIN-PASS-THE-HASH-001"
      - "ATK-MITRE-T1003-001"

properties:
  technical:
    technology: "Virtualization Based Security (VBS)"
    requirements:
      hardware:
        - "UEFI 펌웨어"
        - "Secure Boot"
        - "TPM 1.2/2.0"
        - "SLAT (Second Level Address Translation)"
      software:
        - "Windows 10 Enterprise/Education"
        - "Windows Server 2016+"
    protected_credentials:
      - "NTLM 해시"
      - "Kerberos TGT"
      - "Kerberos 서비스 티켓"
      - "Derived domain credentials"
    not_protected:
      - "Local accounts"
      - "Microsoft accounts"
      - "AD FS"
    activation:
      gpo: "컴퓨터 구성 > 관리 템플릿 > 시스템 > Device Guard"
      powershell: |
        Enable-WindowsOptionalFeature -Online -FeatureName Windows-Defender-Credential-Guard
    verification:
      - "msinfo32.exe (Credential Guard 확인)"
      - "Event Log 분석"
    impact_on_attacks:
      - "Mimikatz sekurlsa::logonpasswords 차단"
      - "메모리 덤프에서 해시 추출 방지"
      - "커널 모드 공격 완화"
    limitations:
      - "기존 앱 호환성 문제"
      - "Kerberos 제약 위임 제한"
      - "NTLMv1 비활성화 필요"

metadata:
  trust:
    source: official
    references:
      - "Microsoft Credential Guard"
      - "Windows Security"
    confidence: 1.0
    verified:
      status: verified
      date: 2025-01-29
      by: "GR System"
  temporal:
    created: 2025-01-29
    modified: 2025-01-29
    revision: 1
  security:
    sensitivity: public
  ai:
    embedding_text: |
      Credential Guard는 VBS로 자격 증명을 격리하여
      Pass-the-Hash, Mimikatz 공격을 방지하는 Windows 기능이다.
    search_keywords:
      - "Credential Guard"
      - "VBS"
      - "자격 증명 보호"
      - "Windows 보안"
    related_queries:
      - "LSASS 보호"
      - "Pass-the-Hash 방지"
      - "가상화 보안"
